(function(i,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(i=typeof globalThis<"u"?globalThis:i||self,c(i["oz-redux-dispatcher"]={}))})(this,function(i){"use strict";const c=(t,n)=>new Proxy(t,{get(r,e){return e in r?r[e]:n}}),a=t=>t?()=>{let n=!1;return{stop(){n=!0},get isStopped(){return n}}}:()=>{let n=!1;return{next(){n=!0},get isContinued(){return n}}};function f(t){return"next"in t}function l(t){const n=(t==null?void 0:t.breakOnFirst)===!1,r=new Set;return{subscribe(e,u){const o=[e,u];return r.add(o),()=>{r.delete(o)}},clearAll(){r.clear()},async handle(e){let u;for(const[o,p]of Array.from(r)){if(!await o(e))continue;const s=a(n)();if(u=await p(e,s),f(s)){if(s.isContinued)continue;break}else if(s.isStopped)break}return u}}}function d(t){return typeof t=="function"}const b=()=>!0,h=()=>{const t=new Set;let n;const r={when:e=>(n=e,r),then:e=>(t.add([n,e]),r),default:e=>(t.add([b,e]),r),execute:e=>{for(const[u,o]of Array.from(t))if(u===e||d(u)&&u(e))return d(o)?o(e):o}};return r};i.buildSwitch=h,i.createMessageHandler=l,i.objectMapper=c,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
